(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{1902:(e,t,s)=>{Promise.resolve().then(s.bind(s,3981))},1978:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]])},2151:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3161:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(3603);let r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:h,...u}=e;return(0,a.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:s,strokeWidth:c?24*Number(i)/Number(n):i,className:r("lucide",o),...u},[...h.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:i,...c}=s;return(0,a.createElement)(n,{ref:l,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...c})});return s.displayName="".concat(e),s}},3981:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(8307),r=s(3603),l=s(4844),n=s(5803),i=s.n(n),c=s(3161);let o=(0,c.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var d=s(1978),h=s(7911),u=s(2151),x=s(6510),m=s(4829),f=s(4172),p=s(5293);let j=(0,c.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),g=(0,c.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var y=s(9889);let v=[{name:"Dashboard",href:"/dashboard",icon:o},{name:"Projetos",href:"/projects",icon:d.A},{name:"Analytics",href:"/projects",icon:h.A},{name:"Configura\xe7\xf5es",href:"/settings",icon:u.A}];function b(){return(0,a.jsx)("div",{className:"relative flex h-10 w-10 items-center justify-center",children:(0,a.jsxs)("svg",{viewBox:"0 0 40 40",className:"w-10 h-10",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"sidebarGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#00E4F2"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#D12BF2"})]})}),(0,a.jsx)("rect",{x:"2",y:"2",width:"36",height:"36",rx:"8",fill:"url(#sidebarGradient)"}),(0,a.jsx)("text",{x:"20",y:"28",textAnchor:"middle",fill:"white",fontSize:"22",fontWeight:"900",fontFamily:"system-ui",children:"Z"})]})})}function w(e){var t;let{children:s}=e,{user:n,isLoading:c,isAuthenticated:o,logout:d}=(0,y.A)(),h=(0,l.useRouter)(),w=(0,l.usePathname)(),[k,N]=(0,r.useState)(!1),[A,E]=(0,r.useState)(!1),[B,C]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{c||o||h.push("/login")},[c,o,h]),c)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center gradient-bg",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(b,{}),(0,a.jsx)("div",{className:"h-1 w-32 overflow-hidden rounded-full bg-[#16213E]",children:(0,a.jsx)("div",{className:"h-full w-1/2 animate-pulse rounded-full gradient-main"})})]})}):o?(0,a.jsxs)("div",{className:"flex h-screen gradient-bg",children:[k&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden",onClick:()=>N(!1)}),(0,a.jsx)("aside",{className:"fixed inset-y-0 left-0 z-50 w-72 transform bg-[#16213E] border-r border-[#00E4F2]/10 transition-transform duration-300 ease-in-out lg:static lg:translate-x-0 ".concat(k?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[(0,a.jsxs)(i(),{href:"/dashboard",className:"flex items-center gap-3",children:[(0,a.jsx)(b,{}),(0,a.jsx)("span",{className:"text-xl font-bold logo-gradient",children:"ZtackPro"})]}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"lg:hidden p-2 hover:bg-[#1A1A2E] rounded-lg transition-colors",children:(0,a.jsx)(x.A,{className:"h-5 w-5 text-white"})})]}),(0,a.jsx)("div",{className:"px-4 pb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>C(!B),className:"flex w-full items-center justify-between rounded-lg bg-[#1A1A2E] px-3 py-2.5 text-sm hover:bg-[#1A1A2E]/80 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-[#00E4F2]/20",children:(0,a.jsx)(m.A,{className:"h-4 w-4 text-[#00E4F2]"})}),(0,a.jsx)("span",{className:"truncate font-medium text-white",children:"Minha Empresa"})]}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-[#B0B0B0] transition-transform ".concat(B?"rotate-180":"")})]}),B&&(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 rounded-lg border border-[#00E4F2]/20 bg-[#16213E] shadow-lg z-10",children:(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)("button",{className:"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm hover:bg-[#1A1A2E] transition-colors text-white",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded bg-[#00E4F2]/20",children:(0,a.jsx)(m.A,{className:"h-3.5 w-3.5 text-[#00E4F2]"})}),(0,a.jsx)("span",{children:"Minha Empresa"})]}),(0,a.jsxs)("button",{className:"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm hover:bg-[#1A1A2E] transition-colors text-[#B0B0B0]",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded border border-dashed border-[#B0B0B0]/30",children:(0,a.jsx)("span",{className:"text-xs",children:"+"})}),(0,a.jsx)("span",{children:"Criar workspace"})]})]})})]})}),(0,a.jsx)("nav",{className:"flex-1 px-3 space-y-1",children:v.map(e=>{let t,s=w===(t=e.href)||(null==w?void 0:w.startsWith(t+"/"));return(0,a.jsxs)(i(),{href:e.href,className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all ".concat(s?"bg-[#00E4F2]/10 text-[#00E4F2]":"text-[#B0B0B0] hover:bg-[#1A1A2E] hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5 ".concat(s?"text-[#00E4F2]":"")}),(0,a.jsx)("span",{children:e.name}),s&&(0,a.jsx)("div",{className:"ml-auto h-1.5 w-1.5 rounded-full bg-[#00E4F2]"})]},e.name)})}),(0,a.jsx)("div",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"rounded-lg card-gradient-cyan p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-[#00E4F2]"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-white",children:"Status"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#B0B0B0]",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#00E676] animate-pulse"}),(0,a.jsx)("span",{children:"Tracking ativo"})]})]})}),(0,a.jsx)("div",{className:"border-t border-[#00E4F2]/10 p-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>E(!A),className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-[#1A1A2E] transition-colors",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full gradient-main text-white font-semibold",children:(null==n||null==(t=n.name)?void 0:t.charAt(0).toUpperCase())||"U"}),(0,a.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,a.jsx)("p",{className:"font-medium truncate text-white",children:null==n?void 0:n.name}),(0,a.jsx)("p",{className:"text-xs text-[#B0B0B0] truncate",children:null==n?void 0:n.email})]}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-[#B0B0B0] transition-transform ".concat(A?"rotate-180":"")})]}),A&&(0,a.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-full rounded-lg border border-[#00E4F2]/20 bg-[#16213E] shadow-lg overflow-hidden",children:(0,a.jsxs)("div",{className:"p-1",children:[(0,a.jsxs)(i(),{href:"/settings",onClick:()=>E(!1),className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm hover:bg-[#1A1A2E] transition-colors text-white",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,a.jsxs)("button",{onClick:()=>{E(!1),d()},className:"flex w-full items-center gap-2 rounded-md px-3 py-2 text-sm text-[#FF6B6B] hover:bg-[#FF6B6B]/10 transition-colors",children:[(0,a.jsx)(j,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Sair"})]})]})})]})})]})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,a.jsxs)("header",{className:"flex h-16 items-center justify-between border-b border-[#00E4F2]/10 bg-[#16213E]/50 backdrop-blur-sm px-4 lg:px-6",children:[(0,a.jsx)("button",{onClick:()=>N(!0),className:"p-2 hover:bg-[#1A1A2E] rounded-lg transition-colors lg:hidden",children:(0,a.jsx)(g,{className:"h-5 w-5 text-white"})}),(0,a.jsx)("div",{className:"hidden lg:flex items-center gap-4 ml-auto",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[#B0B0B0]",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-[#00E676]"}),(0,a.jsx)("span",{children:"Todos sistemas operacionais"})]})})]}),(0,a.jsx)("main",{className:"flex-1 overflow-auto p-4 lg:p-6",children:s})]})]}):null}},4172:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4829:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},4844:(e,t,s)=>{"use strict";var a=s(5340);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},5293:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6510:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7911:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9889:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,O:()=>o});var a=s(8307),r=s(3603),l=s(4844);let n=(0,r.createContext)(void 0),i="http://localhost:3001",c="trackpro_auth";function o(e){let{children:t}=e,[s,o]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),u=(0,l.useRouter)(),x=()=>{let e=localStorage.getItem(c);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},m=e=>{let t={accessToken:e.accessToken,refreshToken:e.refreshToken,expiresAt:Date.now()+1e3*e.expiresIn};localStorage.setItem(c,JSON.stringify(t))},f=()=>{localStorage.removeItem(c)},p=(0,r.useCallback)(async e=>{try{let t=await fetch("".concat(i,"/api/v1/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return null;return t.json()}catch(e){return null}},[]),j=(0,r.useCallback)(async()=>{let e=x();if(!e){o(null),h(!1);return}if(e.expiresAt<Date.now()+6e4)try{let t=await fetch("".concat(i,"/api/v1/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e.refreshToken})});if(!t.ok){f(),o(null),h(!1);return}let s=await t.json();m(s),e.accessToken=s.accessToken}catch(e){f(),o(null),h(!1);return}o(await p(e.accessToken)),h(!1)},[p]);(0,r.useEffect)(()=>{j()},[j]);let g=async(e,t)=>{let s=await fetch("".concat(i,"/api/v1/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!s.ok)throw Error((await s.json()).message||"Login failed");let a=await s.json();m(a),o(await p(a.accessToken)),u.push("/projects")},y=async(e,t,s)=>{let a=await fetch("".concat(i,"/api/v1/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:s})});if(!a.ok)throw Error((await a.json()).message||"Registration failed");let r=await a.json();m(r),o(await p(r.accessToken)),u.push("/projects")},v=async()=>{let e=x();if(e)try{await fetch("".concat(i,"/api/v1/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.accessToken)},body:JSON.stringify({refreshToken:e.refreshToken})})}catch(e){}f(),o(null),u.push("/login")};return(0,a.jsx)(n.Provider,{value:{user:s,isLoading:d,isAuthenticated:!!s,login:g,register:y,logout:v,refreshAuth:j},children:t})}function d(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[5803,6438,2453,7358],()=>e(e.s=1902)),_N_E=e.O()}]);