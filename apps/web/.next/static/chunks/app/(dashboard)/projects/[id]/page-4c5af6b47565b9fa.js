(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9553],{1246:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1319:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},2151:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3514:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(8307),r=s(3603),n=s(4844),l=s(5384),i=s(8743),c=s(1319),o=s(7141);let d=(0,s(3161).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);var m=s(2151),h=s(3686),u=s(1246),x=s(3543),p=s(5803),f=s.n(p),j=s(8061);function g(){var e,t,s,r;let u=(0,n.useParams)().id,{get:x}=(0,j.g)(),{data:p}=(0,l.I)({queryKey:["tenants"],queryFn:()=>x("/api/v1/tenants")}),g=null==p||null==(e=p[0])?void 0:e.id,{data:y,isLoading:b}=(0,l.I)({queryKey:["project",g,u],queryFn:()=>x("/api/v1/tenants/".concat(g,"/projects/").concat(u)),enabled:!!g}),{data:w}=(0,l.I)({queryKey:["apiKeys",g,u],queryFn:()=>x("/api/v1/tenants/".concat(g,"/projects/").concat(u,"/api-keys")),enabled:!!g}),{data:N}=(0,l.I)({queryKey:["projectStats",g,u],queryFn:()=>x("/api/v1/tenants/".concat(g,"/projects/").concat(u,"/stats")),enabled:!!g});return b?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-8 w-48 animate-pulse rounded bg-muted"}),(0,a.jsx)("div",{className:"h-64 animate-pulse rounded-lg bg-muted"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(f(),{href:"/projects",className:"p-2 hover:bg-white/10 rounded-md transition-colors",children:(0,a.jsx)(i.A,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:null==y?void 0:y.name}),(0,a.jsx)("p",{className:"text-white/60",children:null==y?void 0:y.domain})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,a.jsx)("div",{className:"rounded-lg border border-white/10 bg-transparent p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-900/30",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-semibold text-white",children:null!=(s=null==N?void 0:N.eventsToday)?s:0}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Eventos hoje"})]})]})}),(0,a.jsx)("div",{className:"rounded-lg border border-white/10 bg-transparent p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-900/30",children:(0,a.jsx)(o.A,{className:"h-5 w-5 text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-semibold text-white",children:null!=(r=null==w?void 0:w.length)?r:0}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"API Keys ativas"})]})]})}),(0,a.jsx)("div",{className:"rounded-lg border border-white/10 bg-transparent p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-900/30",children:(0,a.jsx)(d,{className:"h-5 w-5 text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-semibold text-white",children:(null==y?void 0:y.status)==="ACTIVE"?"Ativo":"Inativo"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Status"})]})]})})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsx)(f(),{href:"/projects/".concat(u,"/settings"),className:"rounded-lg border border-white/10 bg-transparent p-6 hover:bg-white/5 transition-all",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/20",children:(0,a.jsx)(m.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Configura\xe7\xf5es"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Gerencie API keys, integra\xe7\xf5es e mais"})]})]})}),(0,a.jsx)(f(),{href:"/projects/".concat(u,"/events"),className:"rounded-lg border border-white/10 bg-transparent p-6 hover:bg-white/5 transition-all",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/20",children:(0,a.jsx)(c.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Eventos"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Visualize eventos em tempo real"})]})]})}),(0,a.jsx)(f(),{href:"/projects/".concat(u,"/leads"),className:"rounded-lg border border-white/10 bg-transparent p-6 hover:bg-white/5 transition-all",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-900/30",children:(0,a.jsx)(h.A,{className:"h-6 w-6 text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Captura de Leads"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Configure formul\xe1rios e integra\xe7\xf5es para capturar leads"})]})]})})]}),(0,a.jsx)(v,{projectId:u,apiKey:(null==w||null==(t=w[0])?void 0:t.keyPrefix)?"".concat(w[0].keyPrefix,"..."):void 0})]})}function v(e){let{apiKey:t}=e,[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)("#contact-form"),c="".concat(window.location.protocol,"//").concat(window.location.hostname,":3001"),o="\x3c!-- ZtackPro Lead Capture - Cole antes do </body> --\x3e\n<script>\n(function() {\n  var ZTACKPRO_CONFIG = {\n    apiUrl: '".concat(c,"/api/v1/public/leads/webhook',\n    apiKey: 'COLE_SUA_API_KEY_AQUI',\n    formSelector: '").concat(l,"', // Altere para o seletor do seu formul\xe1rio\n    successMessage: 'Obrigado! Entraremos em contato em breve.',\n    errorMessage: 'Erro ao enviar. Tente novamente.'\n  };\n\n  function init() {\n    var forms = document.querySelectorAll(ZTACKPRO_CONFIG.formSelector);\n    forms.forEach(function(form) {\n      form.addEventListener('submit', function(e) {\n        e.preventDefault();\n        var formData = new FormData(form);\n        var data = {};\n        formData.forEach(function(value, key) {\n          if (['name', 'nome', 'email', 'phone', 'telefone', 'celular', 'whatsapp'].includes(key.toLowerCase())) {\n            var normalizedKey = key.toLowerCase();\n            if (normalizedKey === 'nome') normalizedKey = 'name';\n            if (['telefone', 'celular', 'whatsapp'].includes(normalizedKey)) normalizedKey = 'phone';\n            data[normalizedKey] = value;\n          } else {\n            data.custom = data.custom || {};\n            data.custom[key] = value;\n          }\n        });\n\n        // Captura UTMs\n        var params = new URLSearchParams(window.location.search);\n        data.utm_source = params.get('utm_source') || '';\n        data.utm_medium = params.get('utm_medium') || '';\n        data.utm_campaign = params.get('utm_campaign') || '';\n        data.page_url = window.location.href;\n        data.referrer = document.referrer;\n\n        fetch(ZTACKPRO_CONFIG.apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-API-Key': ZTACKPRO_CONFIG.apiKey\n          },\n          body: JSON.stringify(data)\n        })\n        .then(function(r) { return r.json(); })\n        .then(function(result) {\n          if (result.success) {\n            alert(ZTACKPRO_CONFIG.successMessage);\n            form.reset();\n          } else {\n            alert(ZTACKPRO_CONFIG.errorMessage + ' (' + (result.error || 'Erro') + ')');\n          }\n        })\n        .catch(function() {\n          alert(ZTACKPRO_CONFIG.errorMessage);\n        });\n      });\n    });\n  }\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n  } else {\n    init();\n  }\n})();\n<\/script>");return(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-transparent",children:[(0,a.jsxs)("div",{className:"border-b border-white/10 p-4",children:[(0,a.jsx)("h2",{className:"font-semibold text-white",children:"Captura de Leads (F\xe1cil)"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Cole este c\xf3digo no seu site para capturar leads automaticamente de qualquer formul\xe1rio"})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-white",children:"Seletor CSS do seu formul\xe1rio:"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"#meu-formulario ou .contact-form",className:"flex-1 rounded-md border border-white/20 bg-white/5 px-3 py-2 text-sm text-white placeholder:text-white/40"})}),(0,a.jsxs)("p",{className:"text-xs text-white/50",children:["Exemplos: ",(0,a.jsx)("code",{className:"bg-white/10 px-1 rounded",children:"#contact-form"}),",",(0,a.jsx)("code",{className:"bg-white/10 px-1 rounded ml-1",children:".formulario"}),",",(0,a.jsx)("code",{className:"bg-white/10 px-1 rounded ml-1",children:"form"})," (todos os forms)"]})]}),(0,a.jsxs)("div",{className:"rounded-md bg-blue-500/10 border border-blue-500/20 p-3",children:[(0,a.jsx)("p",{className:"text-sm text-blue-300 font-medium mb-2",children:"Instru\xe7\xf5es:"}),(0,a.jsxs)("ol",{className:"text-xs text-blue-200/80 space-y-1 list-decimal list-inside",children:[(0,a.jsx)("li",{children:"Copie o c\xf3digo abaixo"}),(0,a.jsxs)("li",{children:["Substitua ",(0,a.jsx)("code",{className:"bg-blue-500/20 px-1 rounded",children:"COLE_SUA_API_KEY_AQUI"})," pela sua API Key"]}),(0,a.jsxs)("li",{children:["Altere o ",(0,a.jsx)("code",{className:"bg-blue-500/20 px-1 rounded",children:"formSelector"})," se necess\xe1rio"]}),(0,a.jsxs)("li",{children:["Cole antes do ",(0,a.jsx)("code",{className:"bg-blue-500/20 px-1 rounded",children:"</body>"})," do seu site"]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("pre",{className:"rounded-md bg-[#1a1a2e] p-4 overflow-x-auto text-xs text-white/80 max-h-64 overflow-y-auto",children:(0,a.jsx)("code",{children:o})}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(o),n(!0),setTimeout(()=>n(!1),2e3)},className:"absolute right-2 top-2 rounded-md bg-white/10 px-3 py-1.5 text-xs font-medium text-white hover:bg-white/20 flex items-center gap-1",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"h-3 w-3"}),"Copiado!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"h-3 w-3"}),"Copiar"]})})]}),t&&(0,a.jsxs)("p",{className:"text-xs text-white/50",children:["Sua API Key come\xe7a com: ",(0,a.jsx)("code",{className:"bg-white/10 px-1 rounded",children:t})," ","â€” Veja a chave completa em Configura\xe7\xf5es"]})]})]})}},3543:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},3686:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4844:(e,t,s)=>{"use strict";var a=s(5340);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6468:(e,t,s)=>{Promise.resolve().then(s.bind(s,3514))},7141:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},8061:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(3603);let r="trackpro_auth";function n(){let e=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=function(){let e=localStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}(),a={"Content-Type":"application/json",...t.headers};s&&(a.Authorization="Bearer ".concat(s.accessToken));let n=await fetch("".concat("http://localhost:3001").concat(e),{...t,headers:a});if(!n.ok){let e=await n.json().catch(()=>({}));throw 401===n.status&&(localStorage.removeItem(r),window.location.pathname.includes("/login")||(window.location.href="/login")),Error(e.message||"Request failed: ".concat(n.status))}return 204===n.status?{}:n.json()},[]),t=(0,a.useCallback)(t=>e(t,{method:"GET"}),[e]),s=(0,a.useCallback)((t,s)=>e(t,{method:"POST",body:s?JSON.stringify(s):void 0}),[e]),n=(0,a.useCallback)((t,s)=>e(t,{method:"PUT",body:s?JSON.stringify(s):void 0}),[e]),l=(0,a.useCallback)((t,s)=>e(t,{method:"DELETE",body:s?JSON.stringify(s):void 0}),[e]);return{request:e,get:t,post:s,put:n,del:l}}},8743:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3161).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{e.O(0,[5803,2198,528,6438,2453,7358],()=>e(e.s=6468)),_N_E=e.O()}]);